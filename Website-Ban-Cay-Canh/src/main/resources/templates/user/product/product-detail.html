<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-sanitize.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/lib/OwlCarousel2-2.3.4/dist/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="/lib/OwlCarousel2-2.3.4/dist/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="/lib/fontawesome-free-6.1.1/css/all.min.css">

    <title>Index</title>
</head>

<body ng-app="shoppingCart" ng-controller="shoppingCart-ctrl">
    <div class="wrapper">
        <header>
            <div th:replace="user/layout/_menu.html"></div>
        </header>
    </div>
    <div class="container">
        <div class="row m-3" th:object="${item}">
            <div class="bwp-single-image col-lg-6 col-md-12 col-12 text-center">
                <div class="left-detail col-md-10 col-lg-12 m-auto p-0">
                    <div class="img-size">
                        <img th:src="@{|/img/product/*{image}|}" alt="">
                    </div>
                </div>
                <div class="same-products">
                    <div class="owl-carousel owl-same-products">
                        <div class="item" th:each="p:*{categories.products}"><a th:href="@{|/product/detail/${p.url}|}"><img th:src="@{|/img/product/${p.image}|}"></a></div>
                    </div>
                </div>
            </div>
            <div class="bwp-single-infor col-lg-6 col-md-12 col-12">
                <div class="right-detail">
                    <h1 itemprop="name" class="product_title entry-title">[[*{name}]]</h1>
                    <div class="product_ratting" ng-controller="feedback-ctrl">
                        <ul ng-if="totalRate != 0">
                            <li ng-repeat="rate in generateRange(0, totalRate | number:0, 1)">
                            	<a href=""><i class="fas fa-star"></i></a>
                            </li>
                        </ul>
                        <ul ng-if="totalRate == 0">
                        	<li ng-repeat="rate in generateRange(0, 5, 1)">
                            	<a href=""><i class="fa-regular fa-star"></i></a>
                            </li>
                        </ul>
                        <div ng-if="totalRate != 0">
                        	<h3>{{totalRate}}</h3>
                        </div>
                        <div ng-if="totalRate == 0">
                        	<h3>Chưa có đánh giá</h3>
                        </div>
                    </div>
                    <div class="price"><span class="woocommerce-Price-amount amount"><span
                                class="woocommerce-Price-currencySymbol">$</span>[[*{price}]]</span></div>

                    <div itemprop="description" class="description col-10">
                        <p>[[*{description}]]</p>
                    </div>
                    <div class="products-size">
                        <label for=""><strong>Size</strong></label>
                        <div class="size-swap">
                            <div class="n-sd size_item" data-value="s">
                                <input type="radio" class="size_radio" id="size_s" name="option" value="S" checked>
                                <label for="size_s"><span id="size_pro">S</span></label>
                            </div>
                            <div class="n-sd size_item" data-value="l">
                                <input type="radio" class="size_radio" id="size_l" name="option" value="L">
                                <label for="size_l"><span id="size_pro">L</span></label>
                            </div>
                            <div class="n-sd size_item" data-value="xl">
                                <input type="radio" class="size_radio" id="size_xl" name="option" value="XL">
                                <label for="size_xl"><span id="size_pro">XL</span></label>
                            </div>
                        </div>
                    </div>
                    <div class="cart">
                        <div class="quantity-button">
                            <span>Quantity</span>
                            <div class="quantity">
                                <input type="number" id="quantity_6333fa0a4b0d4" class="input-text qty text" step="1"
                                    min="1" max="" name="quantity" value="1" title="Qty" size="4" placeholder=""
                                    inputmode="numeric" autocomplete="off">
                            </div>
                            <button type="submit" class="single_add_to_cart_button button alt" onclick="searchURL()">Add
                                to cart</button>
                        </div>
                        <div class="like-button" ng-controller="wishlist-ctrl">
                            <button th:attr="ng-click=@{|insert([[*{id}]])|}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-heart" viewBox="0 0 16 16">
                                    <path
                                        d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                                </svg></button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="container"  ng-controller="feedback-ctrl">
        <div class="product_review">
            <div class="review-wrapper">
                <div class="rev_title">
                    <h2>{{items.length}} Review For <span class="name_pro_rev">Crab Pool Security</span></h2>
                </div>
                <select class="form-select" name="myComboBox" ng-model="selectCommentFilter" ng-change="commentFilter()" ng-init="selectCommentFilter='0'" style="width: 10rem;">
					<option value="0">All comment</option>
					<option value="1">My comment</option>
				</select>
				<div class="row mt-3">
					<div class="col col-md-auto" >
						<input type="radio" ng-model="rateFilter" value="0" name="rate" ng-click="commentFilter()" ng-checked="true">
	                    <label for="rate-5">
							All stars
	                    </label>
                    </div>
                    <div class="col col-md-auto">
						<input type="radio" ng-model="rateFilter" value="1" name="rate" ng-click="commentFilter()">
	                    <label for="rate-5">
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
	                    </label> 
                    </div>
                    <div class="col col-md-auto">
	                    <input type="radio" ng-model="rateFilter" value="2" name="rate" ng-click="commentFilter()">
	                    <label for="rate-5">
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
	                    </label> 
	                </div>
	                <div class="col col-md-auto">
	                    <input type="radio" ng-model="rateFilter" value="3" name="rate" ng-click="commentFilter()">
	                    <label for="rate-5">
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
	                    </label> 
                    </div>
                    <div class="col col-md-auto">
	                    <input type="radio" ng-model="rateFilter" value="4" name="rate" ng-click="commentFilter()">
	                    <label for="rate-5">
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
	                    </label>
                    </div>
                    <div class="col col-md-auto">
	                    <input type="radio" ng-model="rateFilter" value="5" name="rate" ng-click="commentFilter()">
	                    <label for="rate-5">
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
							<a class="color-rate" href=""><i class="fas fa-star"></i></a>
	                    </label>
                    </div>
				</div>
                <div class="rev_comment_box mt-3" ng-repeat="fb in pager.items">
                    <div class="comment_avt">
                        <img src="/img/avatar/{{fb.user.avatar}}" alt="{{fb.user.avatar}}">
                    </div>
                    <div class="comment_text">
                        <div class="review_layout">
                            <div class="star_rating">
                                <ul>
                                    <li ng-repeat="rate in generateRange(0, fb.rate, 1)">
                                    	<a href=""><i class="fas fa-star"></i></a>
                                    </li> 
                                </ul>
                            </div>
                            <p><span class="author_cmt">{{fb.user.fullname}}</span> - <span class="date_cmt">{{fb.create_date | date:'HH:mm - dd/MM/yyyy'}}</span>
                            </p>
                            <p>{{fb.comment}}</p>
                        </div>
                    </div>
                </div>
                <nav ng-if="items.length > 5" class="align-center mt-2" aria-label="Page navigation example ">			<!-- Page product -->
					<ul class="pagination justify-content-center">
						<li class="page-item"><a ng-click="pager.first()" class="page-link">First </a></li>
						<li class="page-item"><a ng-click="pager.prev()" class="page-link">Prev </a></li>
						<li class="page-item -success"><a class="page-link" style="width: 80px; color: white; background: #79A206; text-align: center;">{{pager.page + 1}} of {{pager.count}}</a></li>
						<li class="page-item"><a ng-click="pager.next()" class="page-link">Next</a></li>	
						<li class="page-item"><a ng-click="pager.last()" class="page-link">Last</a></li>
					</ul>
				</nav>
                <div class="rev_product_ratting mb-10">
                    <h3>Your rating</h3>
                    <div class="star_widget">
                        <input type="radio" ng-model="form.rate" value="5" name="rate" id="rate-5">
                        <label for="rate-5" class="fas fa-star"></label>
                        <input type="radio" ng-model="form.rate" value="4" name="rate" id="rate-4">
                        <label for="rate-4" class="fas fa-star"></label>
                        <input type="radio" ng-model="form.rate" value="3" name="rate" id="rate-3">
                        <label for="rate-3" class="fas fa-star"></label>
                        <input type="radio" ng-model="form.rate" value="2" name="rate" id="rate-2">
                        <label for="rate-2" class="fas fa-star"></label>
                        <input type="radio" ng-model="form.rate" value="1" name="rate" id="rate-1">
                        <label for="rate-1" class="fas fa-star"></label>
                        <div class="status_rating"><span id="status_rating"></span></div>
                    </div>
                </div>
            </div>
            <div class="product_review_form">
                <form name="frmCmt">
                    <div class="row">
                        <div class="col-12">
                            <label for="review_comment"><strong>Your review</strong></label>
                            <textarea name="comment" ng-model="form.comment" ng-keyup="checkComment()" id="review_comment"></textarea>
                        </div>
                    </div>
                    <em ng-bind-html="message"></em>
                    <button ng-click="create()">Submit</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="footer_widgets">
        <div class="footer_top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-2 col-md-4 col-sm-6">
                        <div class="widgets_container contact_us">
                            <h3>Opening Time</h3>
                            <p><span>Mon - Fri:</span> 8AM - 10PM</p>
                            <p><span>Sat:</span> 9AM-8PM</p>
                            <p><span>Suns:</span> 14hPM-18hPM</p>
                            <p><b>We Work All The Holidays</b></p>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6">
                        <div class="widgets_container widget_menu">
                            <h3>Information</h3>
                            <div class="footer_menu">
                                <ul>
                                    <li><a href="about.html">About Us</a></li>
                                    <li><a href="checkout.html">Checkout</a></li>
                                    <li><a href="/contact">Contact</a></li>
                                    <li><a href="faq.html">Frequently Questions</a></li>
                                    <li><a href="/product/wish">Wishlist</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-5">
                        <div class="widgets_container widget_app">
                            <div class="footer_logo">
                                <a href="/home/index"><img src="/images/Slide/logo.jpg" alt=""></a>
                            </div>
                            <div class="footer_widgetnav_menu">
                                <ul>
                                    <li><a href="#">Payment</a></li>
                                    <li><a href="#">Affiliates</a></li>
                                    <li><a href="#">Contact</a></li>
                                    <li><a href="#">Internet</a></li>
                                </ul>
                            </div>
                            <div class="footer_social">
                                <ul>
                                    <li><a href="#"><i class="fa-brands fa-facebook"></i></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-twitter" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-google-plus" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-youtube" aria-hidden="true"></i></a></li>
                                </ul>
                            </div>
                            <div class="footer_app">
                                <ul>
                                    <li><img src="/images/Slide/appstore.png" alt=""></li>
                                    <li><img src="/images/Slide/ggplay.png" alt=""></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-4 col-sm-6">
                        <div class="widgets_container widget_menu">
                            <h3>My Account</h3>
                            <div class="footer_menu">
                                <ul>
                                    <li><a href="/account/info">My Account</a></li>
                                    <li><a href="/contact">Contact</a></li>
                                    <li><a href="/cart/detail">Shopping cart</a></li>
                                    <li><a href="checkout.html">Checkout</a></li>
                                    <li><a href="shop.html">Shop</a></li>
                                    <li><a href="#">Order History</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-4 col-sm-6">
                        <div class="widgets_container widget_menu">
                            <h3>Customer Service</h3>
                            <div class="footer_menu">
                                <ul>
                                    <li><a href="/contact">Contact Us</a></li>
                                    <li><a href="#">Terms of use</a></li>
                                    <li><a href="#">Privacy Policy</a></li>
                                    <li><a href="/contact">Site Map</a></li>
                                    <li><a href="/account/info">My Account</a></li>
                                    <li><a href="#">Returns</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div th:replace="user/layout/_script.html"></div>
    <script th:inline="javascript">
		/*<![CDATA[*/
			var productId =  /*[(${item.id})]*/'default';
		/*]]>*/
    </script>
    <script src="/js/feedback-ctrl.js"></script>
    <script src="/js/wishlist-ctrl.js"></script>
</body>

</html>